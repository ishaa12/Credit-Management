function removeAll() { document.getElementById("userName").innerHTML = "", document.getElementById("creditLimit").innerHTML = "", document.getElementById("creditTotal").innerHTML = "", document.getElementById("no.").innerHTML = "" } function register() { if (+getPwd.value < +chkPwd.value) alert("Your Total credit is more than credit limit"); else if ("" !== getEmail.value && "" !== getPwd.value) { for (var e = !1, t = 0; t < users.length; t++) { if (getEmail.value.toLowerCase() === users[t].clientName.toLowerCase()) { e = !0, alert("Username Already Exists"); break } if (getEmail.value.toLowerCase() === users[t].clientName.toLowerCase()) { e = !0, alert("Your Total credit is more than credit limit"); break } } e === !1 && (localStorage.setItem("user", JSON.stringify({ usersname: getEmail.value, creditLimits: getPwd.value, creditTotals: chkPwd.value })), test = JSON.parse(localStorage.getItem("user")), users.push(new Customer(test.usersname.slice(0, 1).toUpperCase() + test.usersname.slice(1).toLowerCase(), +test.creditLimits, +test.creditTotals)), document.getElementById("hideRow").style.visibility = "visible", removeAll(), addAll()) } else alert("Fill Out All Form") } function addAll() { for (var e = 0; e < users.length; e++)document.getElementById("userName").innerHTML += users[e].clientName + "<br />", document.getElementById("creditLimit").innerHTML += users[e].creditLimit + "<br />", document.getElementById("creditTotal").innerHTML += users[e].totalCredit + "<br />", document.getElementById("no.").innerHTML += e + 1 + "<br />" } function del() { for (var e = !1, t = 0; t < users.length; t++)if (delUser.value.toLowerCase() == users[t].clientName.toLowerCase()) { e = !0, users.splice(t, 1), removeAll(), addAll(); break } e === !1 && alert("There are no user for this Name") } function delAll() { for (var e = 0; e < users.length; e++)document.getElementById("hideRow").style.visibility = "hidden", users = [], removeAll() } function debitAmount() { for (var e = !1, t = 0; t < users.length; t++)if (email.value.toLowerCase() == users[t].clientName.toLowerCase()) { e = !0, alert(users[t].debit(+pwd.value)), document.getElementById("hideRow").style.visibility = "visible", document.getElementById("creditTotal").innerHTML += users[t].totalCredit + "<br />", removeAll(), addAll(); break } e === !1 && alert("You are no user here anymore") } function creditAmount() { for (var e = !1, t = 0; t < users.length; t++)if (email.value.toLowerCase() == users[t].clientName.toLowerCase()) { e = !0, alert(users[t].credit(+pwd.value)), document.getElementById("hideRow").style.visibility = "visible", document.getElementById("creditTotal").innerHTML += users[t].totalCredit + "<br />", removeAll(), addAll(); break } e === !1 && alert("You are no user here anymore") } function Customer(e, t, r) { this.creditLimit = t, this.clientName = e, this.totalCredit = r } var getEmail = document.getElementById("getEmail"), getPwd = document.getElementById("getPass"), chkPwd = document.getElementById("CheckPass"), email = document.getElementById("email"), pwd = document.getElementById("pwd"), delUser = document.getElementById("delUser"); document.getElementById("hideRow").style.visibility = "hidden"; var users = []; Customer.prototype.credit = function (e) { return e + this.totalCredit > this.creditLimit ? this.clientName + " we can't give you more Credit" : (this.totalCredit += e, this.clientName + " Ok your Total Credit became " + this.totalCredit) }, Customer.prototype.debit = function (e) { return 0 == this.totalCredit ? "you don't have any credit" : e > this.totalCredit ? (e -= this.totalCredit, this.totalCredit = 0, this.clientName + " Your Total Credit becomes 0, collect " + e) : (this.totalCredit -= e, this.clientName + " Ok your Total Credit became " + this.totalCredit) };
